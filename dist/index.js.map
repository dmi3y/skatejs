{"version":3,"file":"index.js","sources":["../node_modules/object-assign/index.js","../src/native/create-element.js","../src/util/element-contains.js","../src/shared/registry.js","../src/util/ignored.js","../src/util/walk-tree.js","../src/api/init.js","../src/api/create.js","../src/native/create-event.js","../src/api/emit.js","../src/native/create-document-fragment.js","../src/api/fragment.js","../src/api/properties/boolean.js","../src/util/empty.js","../src/api/properties/number.js","../src/api/properties/string.js","../src/api/properties/index.js","../src/util/data.js","../src/api/ready.js","../src/api/render.js","../src/api/version.js","../src/lifecycle/attached.js","../src/lifecycle/attribute.js","../src/util/matches-selector.js","../src/lifecycle/events.js","../src/lifecycle/patch-attribute-methods.js","../src/util/dash-case.js","../src/lifecycle/properties-init.js","../src/lifecycle/properties-created.js","../src/lifecycle/properties-ready.js","../src/util/protos.js","../src/util/define-properties.js","../src/util/get-own-property-descriptors.js","../src/lifecycle/prototype.js","../src/lifecycle/resolve.js","../src/lifecycle/created.js","../src/native/register-element.js","../src/type/element.js","../src/defaults.js","../src/lifecycle/detached.js","../src/fix/ie/innerhtml.js","../src/util/get-closest-ignored-element.js","../src/shared/document-observer.js","../src/util/get-all-property-descriptors.js","../src/util/debounce.js","../src/index.js","../src/global.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// Just in case native document.createElement() was overridden, we ensure we're\n// using the native one so that we're not bogged down by any polyfills.\nexport default Document.prototype.createElement.bind(document);\n","const { body, head } = document;\nconst elementPrototype = window.HTMLElement.prototype;\nconst elementPrototypeContains = elementPrototype.contains;\n\nexport default function (source, target) {\n  // The document element does not have the contains method in IE.\n  if (source === document && !source.contains) {\n    return head.contains(target) || body.contains(target);\n  }\n  return source.contains ? source.contains(target) : elementPrototypeContains.call(source, target);\n}\n","const definitions = {};\nconst map = [];\nconst types = [];\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nexport default {\n  get (name) {\n    return hasOwn.call(definitions, name) && definitions[name];\n  },\n  set (name, Ctor) {\n    if (this.get(name)) {\n      throw new Error(`A Skate component with the name of \"${name}\" already exists.`);\n    }\n\n    const type = Ctor.type;\n    let typeIndex = types.indexOf(type);\n\n    if (typeIndex === -1) {\n      typeIndex = types.length;\n      types.push(type);\n      map[typeIndex] = {};\n    }\n\n    return definitions[name] = map[typeIndex][name] = Ctor;\n  },\n  find (elem) {\n    const typesLength = types.length;\n    for (let a = 0; a < typesLength; a++) {\n      const reduced = types[a].reduce(elem, map[a]);\n      if (reduced) {\n        return reduced;\n      }\n    }\n  }\n};\n","export default function (element) {\n  var attrs = element.attributes;\n  return attrs && !!attrs['data-skate-ignore'];\n}\n","import ignored from './ignored';\n\nvar Node = window.Node;\n\nfunction walk (elem, fn) {\n  if (elem.nodeType !== Node.ELEMENT_NODE || ignored(elem)) {\n    return;\n  }\n\n  var chren = elem.childNodes;\n  var child = chren && chren[0];\n\n  fn(elem);\n  while (child) {\n    walk(child, fn);\n    child = child.nextSibling;\n  }\n}\n\nexport default function (elems, fn) {\n  if (!elems) {\n    return;\n  }\n\n  if (elems instanceof Node) {\n    elems = [elems];\n  }\n\n  for (let a = 0; a < elems.length; a++) {\n    walk(elems[a], fn);\n  }\n}\n","import elementContains from '../util/element-contains';\nimport registry from '../shared/registry';\nimport walkTree from '../util/walk-tree';\n\nexport default function (...args) {\n  args.forEach(function (arg) {\n    const isInDom = elementContains(document, arg);\n    walkTree(arg, function (descendant) {\n      const component = registry.find(descendant);\n      if (component) {\n        if (component.prototype.createdCallback) {\n          component.prototype.createdCallback.call(descendant);\n        }\n\n        if (isInDom && component.prototype.attachedCallback) {\n          isInDom && component.prototype.attachedCallback.call(descendant);\n        }\n      }\n    });\n  });\n}\n","import assign from 'object-assign';\nimport createElement from '../native/create-element';\nimport init from './init';\nimport registry from '../shared/registry';\n\nexport default function (name, props) {\n  const Ctor = registry.get(name);\n  const elem = Ctor ? Ctor.type.create(Ctor) : createElement(name);\n  Ctor && init(elem);\n  return assign(elem, props);\n}\n","export default Document.prototype.createEvent.bind(document);\n","import createElement from '../native/create-element';\nimport createEvent from '../native/create-event';\nimport utilElementContains from '../util/element-contains';\n\nconst CustomEvent = (function (CustomEvent) {\n  if (CustomEvent) {\n    try {\n      new CustomEvent();\n    } catch (e) {\n      return undefined;\n    }\n  }\n  return CustomEvent;\n}(window.CustomEvent));\n\nfunction createCustomEvent (name, opts = {}) {\n  if (CustomEvent) {\n    return new CustomEvent(name, opts);\n  }\n\n  var e = createEvent('CustomEvent');\n  e.initCustomEvent(name, opts.bubbles, opts.cancelable, opts.detail);\n  return e;\n}\n\nfunction dispatch (elem, cEvent) {\n  if (!elem.disabled) {\n    return elem.dispatchEvent(cEvent);\n  }\n  cEvent.isPropagationStopped = true;\n}\n\nconst hasBubbleOnDetachedElements = (function () {\n  var parent = createElement('div');\n  var child = createElement('div');\n  var hasBubbleOnDetachedElements = false;\n  parent.appendChild(child);\n  parent.addEventListener('test', () => hasBubbleOnDetachedElements = true);\n  child.dispatchEvent(createCustomEvent('test', { bubbles: true }));\n  return hasBubbleOnDetachedElements;\n}());\n\nfunction createReadableStopPropagation (oldStopPropagation) {\n  return function () {\n    this.isPropagationStopped = true;\n    oldStopPropagation.call(this);\n  };\n}\n\nfunction simulateBubbling (elem, cEvent) {\n  let didPreventDefault;\n  let currentElem = elem;\n  cEvent.stopPropagation = createReadableStopPropagation(cEvent.stopPropagation);\n  Object.defineProperty(cEvent, 'target', { get: () => elem });\n  while (currentElem && !cEvent.isPropagationStopped) {\n    cEvent.currentTarget = currentElem;\n    if (dispatch(currentElem, cEvent) === false) {\n      didPreventDefault = false;\n    }\n    currentElem = currentElem.parentNode;\n  }\n  return didPreventDefault;\n}\n\nfunction emitOne (elem, name, opts) {\n  var cEvent, shouldSimulateBubbling;\n\n  /* jshint expr: true */\n  opts.bubbles === undefined && (opts.bubbles = true);\n  opts.cancelable === undefined && (opts.cancelable = true);\n  cEvent = createCustomEvent(name, opts);\n  shouldSimulateBubbling = opts.bubbles &&\n    !hasBubbleOnDetachedElements &&\n    !utilElementContains(document, elem);\n\n  return shouldSimulateBubbling ?\n    simulateBubbling(elem, cEvent) :\n    dispatch(elem, cEvent);\n}\n\nexport default function (elem, name, opts = {}) {\n  var names = (typeof name === 'string' ? name.split(' ') : name);\n  return names.reduce(function (prev, curr) {\n    if (emitOne(elem, curr, opts) === false) {\n      prev.push(curr);\n    }\n    return prev;\n  }, []);\n}\n","export default Document.prototype.createDocumentFragment.bind(document);\n","import createDocumentFragment from '../native/create-document-fragment';\nimport createElement from '../native/create-element';\nimport init from './init';\n\nconst { Node, NodeList } = window;\nconst slice = Array.prototype.slice;\nconst specialMap = {\n  caption: 'table',\n  dd: 'dl',\n  dt: 'dl',\n  li: 'ul',\n  tbody: 'table',\n  td: 'tr',\n  thead: 'table',\n  tr: 'tbody'\n};\n\nfunction resolveParent (tag, html) {\n  const container = createElement('div');\n  let levels = 0;\n  let parentTag = specialMap[tag];\n\n  while (parentTag) {\n    html = `<${parentTag}>${html}</${parentTag}>`;\n    ++levels;\n    parentTag = specialMap[parentTag];\n  }\n\n  container.innerHTML = html;\n\n  let parent = container;\n  for (let a = 0; a < levels; a++) {\n    parent = parent.firstElementChild;\n  }\n  return parent;\n}\n\nfunction resolveTag (html) {\n  const tag = html.match(/^<([^\\s>]+)/);\n  return tag && tag[1];\n}\n\nfunction resolveHtml (html) {\n  return resolveParent(resolveTag(html), html);\n}\n\nexport default function fragment (...args) {\n  return args.reduce(function (frag, node) {\n    if (typeof node === 'string') {\n      node = fragment.apply(null, slice.call(resolveHtml(node).childNodes));\n    } else if (node instanceof NodeList || Array.isArray(node)) {\n      node = fragment.apply(null, slice.call(node));\n    } else if (node instanceof Node) {\n      init(node);\n    }\n\n    if (node) {\n      frag.appendChild(node);\n    }\n\n    return frag;\n  }, createDocumentFragment());\n}\n","export default {\n  coerce: value => !!value,\n  default: false,\n  deserialize: value => !(value === null),\n  serialize: value => value ? '' : undefined\n};\n","export default function (val) {\n  return typeof val === 'undefined' || val === null;\n}","import empty from '../../util/empty';\n\nconst alwaysUndefinedIfEmpty = val => empty(val) ? undefined : Number(val);\n\nexport default {\n  coerce: alwaysUndefinedIfEmpty,\n  deserialize: alwaysUndefinedIfEmpty,\n  serialize: alwaysUndefinedIfEmpty\n};\n","import empty from '../../util/empty';\n\nconst alwaysUndefinedIfEmpty = val => empty(val) ? undefined : String(val);\n\nexport default {\n  coerce: alwaysUndefinedIfEmpty,\n  deserialize: alwaysUndefinedIfEmpty,\n  serialize: alwaysUndefinedIfEmpty\n};\n","import assign from 'object-assign';\nimport boolean from './boolean';\nimport number from './number';\nimport string from './string';\n\nfunction prop (def) {\n  return function (...args) {\n    args.unshift({}, def);\n    return assign.apply(null, args);\n  };\n}\n\nexport default {\n  boolean: prop(boolean),\n  number: prop(number),\n  string: prop(string)\n};\n","export default function (element, namespace = '') {\n  var data = element.__SKATE_DATA || (element.__SKATE_DATA = {});\n  return namespace && (data[namespace] || (data[namespace] = {})) || data;\n}\n","import data from '../util/data';\nimport registry from '../shared/registry';\n\nfunction ready (element) {\n  const component = registry.find(element);\n  return component && data(element).created;\n}\n\nexport default function (elements, callback) {\n  const collection = elements.length === undefined ? [elements] : elements;\n  const collectionLength = collection.length;\n  let readyCount = 0;\n\n  function callbackIfReady () {\n    ++readyCount;\n    if (readyCount === collectionLength) {\n      callback(elements);\n    }\n  }\n\n  for (let a = 0; a < collectionLength; a++) {\n    const elem = collection[a];\n\n    if (ready(elem)) {\n      callbackIfReady();\n    } else {\n      const info = data(elem);\n      if (info.readyCallbacks) {\n        info.readyCallbacks.push(callbackIfReady);\n      } else {\n        info.readyCallbacks = [callbackIfReady];\n      }\n    }\n  }\n}\n","import registry from '../shared/registry';\n\nexport default function (elem) {\n  const component = registry.find(elem);\n  if (component && component.render) {\n    component.render(elem);\n  }\n}\n","export default '0.15.3';\n","import data from '../util/data';\n\nexport default function (opts) {\n  const { attached } = opts;\n  return attached ? function () {\n    const info = data(this);\n    if (info.attached) return;\n    info.attached = true;\n    info.detached = false;\n    attached(this);\n  } : undefined;\n}\n","export default function (opts) {\n  const { attribute } = opts;\n\n  if (typeof attribute !== 'function') {\n    return;\n  }\n\n  return function (name, oldValue, newValue) {\n    attribute(this, {\n      name: name,\n      newValue: newValue === null ? undefined : newValue,\n      oldValue: oldValue === null ? undefined : oldValue\n    });\n  };\n}\n","import createElement from '../native/create-element';\n\nvar elProto = window.HTMLElement.prototype;\nvar nativeMatchesSelector = (\n  elProto.matches ||\n  elProto.msMatchesSelector ||\n  elProto.webkitMatchesSelector ||\n  elProto.mozMatchesSelector ||\n  elProto.oMatchesSelector\n);\n\n// Only IE9 has this msMatchesSelector bug, but best to detect it.\nvar hasNativeMatchesSelectorDetattachedBug = !nativeMatchesSelector.call(createElement('div'), 'div');\n\nexport default function (element, selector) {\n  if (hasNativeMatchesSelectorDetattachedBug) {\n    var clone = element.cloneNode();\n    createElement('div').appendChild(clone);\n    return nativeMatchesSelector.call(clone, selector);\n  }\n  return nativeMatchesSelector.call(element, selector);\n}\n","import matches from '../util/matches-selector';\n\nfunction readonly (obj, prop, val) {\n  Object.defineProperty(obj, prop, {\n    configurable: true,\n    get () {\n      return val;\n    }\n  });\n}\n\nfunction parseEvent (e) {\n  const indexOfSpace = e.indexOf(' ');\n  const hasSpace = indexOfSpace > 0;\n  const name = hasSpace ? e.substring(0, indexOfSpace) : e;\n  const selector = hasSpace ? e.substring(indexOfSpace + 1) : '';\n  return {\n    name: name,\n    selector: selector\n  };\n}\n\nfunction makeDelegateHandler (elem, handler, parsed) {\n  return function (e) {\n    let current = e.target;\n    const selector = parsed.selector;\n    while (current && current !== elem.parentNode) {\n      if (matches(current, selector)) {\n        readonly(e, 'currentTarget', current);\n        readonly(e, 'delegateTarget', elem);\n        return handler(e);\n      }\n      current = current.parentNode;\n    }\n  };\n}\n\nfunction makeNormalHandler (elem, handler) {\n  return function (e) {\n    readonly(e, 'delegateTarget', elem);\n    handler(e);\n  };\n}\n\nfunction bindEvent (elem, event, handler) {\n  const parsed = parseEvent(event);\n  const { name, selector } = parsed;\n  const capture = selector && (name === 'blur' || name === 'focus');\n  handler = selector ? makeDelegateHandler(elem, handler, parsed) : makeNormalHandler(elem, handler);\n  elem.addEventListener(name, handler, capture);\n}\n\nexport default function events (opts) {\n  const events = opts.events || {};\n  return function (elem) {\n    for (let name in events) {\n      bindEvent(elem, name, events[name].bind(elem));\n    }\n  };\n}\n","export default function patchAttributeMethods (elem) {\n  let { removeAttribute, setAttribute } = elem;\n\n  elem.removeAttribute = function (name) {\n    let oldValue = this.getAttribute(name);\n    removeAttribute.call(elem, name);\n    if (elem.attributeChangedCallback) {\n      elem.attributeChangedCallback(name, oldValue, null);\n    }\n  };\n\n  elem.setAttribute = function (name, newValue) {\n    let oldValue = this.getAttribute(name);\n    setAttribute.call(elem, name, newValue);\n    if (elem.attributeChangedCallback) {\n      elem.attributeChangedCallback(name, oldValue, String(newValue));\n    }\n  };\n}\n","export default function (str) {\n  return str.split(/([A-Z])/).reduce(function (one, two, idx) {\n    var dash = !one || idx % 2 === 0 ? '' : '-';\n    return `${one}${dash}${two.toLowerCase()}`;\n  });\n}\n","import assign from 'object-assign';\nimport dashCase from '../util/dash-case';\nimport data from '../util/data';\nimport emit from '../api/emit';\nimport empty from '../util/empty';\n\nconst { removeAttribute, setAttribute } = window.Element.prototype;\n\nfunction getData (elem, name) {\n  return data(elem, `api/property/${name}`);\n}\n\nfunction getDataForAttribute (elem, name) {\n  return getData(elem, getData(elem, name).linkedProperty);\n}\n\nfunction getLinkedAttribute (name, attr) {\n  return attr === true ? dashCase(name) : attr;\n}\n\nfunction createNativePropertyDefinition (name, opts) {\n  let prop = {\n    configurable: true,\n    enumerable: true\n  };\n\n  prop.created = function (elem, initialValue) {\n    let info = getData(elem, name);\n    info.linkedAttribute = getLinkedAttribute(name, opts.attribute);\n    info.opts = opts;\n    info.updatingProperty = false;\n\n    // Ensure we can get the info from inside the attribute methods.\n    getData(elem, info.linkedAttribute).linkedProperty = name;\n\n    if (typeof opts.default === 'function') {\n      info.defaultValue = opts.default(elem, { name });\n    } else if (!empty(opts.default)) {\n      info.defaultValue = opts.default;\n    }\n\n    // TODO Refactor to be cleaner.\n    //\n    // We only override removeAttribute and setAttribute once. This means that\n    // if you define 10 properties, they still only get overridden once. For\n    // this reason, we must re-get info / opts from within the property methods\n    // since the functions aren't recreated for each scope.\n    if (info.linkedAttribute) {\n      if (!info.attributeMap) {\n        info.attributeMap = {};\n\n        elem.removeAttribute = function (attrName) {\n          const info = getDataForAttribute(this, attrName);\n\n          if (!info.linkedAttribute) {\n            return removeAttribute.call(this, attrName);\n          }\n\n          const prop = info.attributeMap[attrName];\n          const serializedValue = info.opts.serialize(info.defaultValue);\n          info.updatingAttribute = true;\n\n          if (empty(serializedValue)) {\n            removeAttribute.call(this, attrName);\n          } else {\n            setAttribute.call(this, attrName, serializedValue);\n          }\n\n          if (prop) {\n            elem[prop] = undefined;\n          }\n\n          info.updatingAttribute = false;\n        };\n\n        elem.setAttribute = function (attrName, attrValue) {\n          const info = getDataForAttribute(this, attrName);\n\n          if (!info.linkedAttribute) {\n            return setAttribute.call(this, attrName, attrValue);\n          }\n\n          const prop = info.attributeMap[attrName];\n          info.updatingAttribute = true;\n          setAttribute.call(this, attrName, attrValue);\n\n          if (prop) {\n            elem[prop] = info.opts.deserialize(attrValue);\n          }\n\n          info.updatingAttribute = false;\n        };\n      }\n\n      info.attributeMap[info.linkedAttribute] = name;\n    }\n\n    // Set up initial value if it wasn't specified.\n    if (empty(initialValue)) {\n      if (info.linkedAttribute && elem.hasAttribute(info.linkedAttribute)) {\n        initialValue = opts.deserialize(elem.getAttribute(info.linkedAttribute));\n      } else {\n        initialValue = info.defaultValue;\n      }\n    }\n\n    // We must coerce the initial value just in case it wasn't already.\n    const internalValue = info.internalValue = opts.coerce ? opts.coerce(initialValue) : initialValue;\n\n    // User-defined created callback.\n    if (typeof opts.created === 'function') {\n      opts.created(elem, { name, internalValue });\n    }\n  };\n\n  prop.get = function () {\n    const info = getData(this, name);\n    const internalValue = info.internalValue;\n\n    if (opts.get) {\n      return opts.get(this, { name, internalValue });\n    }\n\n    return internalValue;\n  };\n\n  prop.initial = function (elem) {\n    return typeof opts.initial === 'function' ? opts.initial(elem, { name }) : elem[name];\n  };\n\n  prop.ready = function (elem) {\n    const initial = getData(elem, name).internalValue;\n    elem[name] = empty(initial) ? this.initial(elem) : initial;\n  };\n\n  prop.set = function (newValue) {\n    const info = getData(this, name);\n    const oldValue = info.oldValue;\n\n    if (info.updatingProperty) {\n      return;\n    }\n\n    info.updatingProperty = true;\n\n    if (empty(newValue)) {\n      newValue = info.defaultValue;\n    }\n\n    if (typeof opts.coerce === 'function') {\n      newValue = opts.coerce(newValue);\n    }\n\n    const propertyHasChanged = newValue !== oldValue;\n    if (propertyHasChanged && opts.event) {\n      const cancelledEvents = emit(this, String(opts.event), {\n        bubbles: false,\n        cancelable: true,\n        detail: {name, oldValue, newValue}\n      });\n\n      if (cancelledEvents.length > 0) {\n        info.updatingProperty = false;\n        return;\n      }\n    }\n\n\n    info.internalValue = newValue;\n\n    if (info.linkedAttribute && !info.updatingAttribute) {\n      const serializedValue = opts.serialize(newValue);\n      if (empty(serializedValue)) {\n        removeAttribute.call(this, info.linkedAttribute);\n      } else {\n        setAttribute.call(this, info.linkedAttribute, serializedValue);\n      }\n    }\n\n    if (typeof opts.set === 'function') {\n      opts.set(this, { name, newValue, oldValue });\n    }\n\n    info.oldValue = newValue;\n    info.updatingProperty = false;\n  };\n\n  return prop;\n}\n\nexport default function (opts) {\n  opts = opts || {};\n\n  if (typeof opts === 'function') {\n    opts = { coerce: opts };\n  }\n\n  return function (name) {\n    return createNativePropertyDefinition(name, assign({\n      deserialize: value => value,\n      serialize: value => value\n    }, opts));\n  };\n}\n","export default function propertiesApply (elem, properties) {\n  Object.keys(properties).forEach(function (name) {\n    const prop = properties[name];\n    const initialValue = prop.initial(elem);\n\n    // https://bugs.webkit.org/show_bug.cgi?id=49739\n    //\n    // When Webkit fixes that bug so that native property accessors can be\n    // retrieved, we can move defining the property to the prototype and away\n    // from having to do if for every instance as all other browsers support\n    // this.\n    Object.defineProperty(elem, name, prop);\n\n    // This will still be needed to do any setup for the property if it needs\n    // any information from the element.\n    //\n    // Once that bug is fixed, the initial value being passed as the second\n    // argument to prop.created() can use the overridden property definition to\n    // get the initial value.\n    prop.created(elem, initialValue);\n  });\n}\n","export default function propertiesApply (elem, properties) {\n  Object.keys(properties).forEach(function (name) {\n    properties[name].ready(elem);\n  });\n}\n","export default function (proto) {\n  var chains = [];\n  while (proto) {\n    chains.push(proto);\n    proto = Object.getPrototypeOf(proto);\n  }\n  chains.reverse();\n  return chains;\n}\n","export default function (obj, props) {\n  Object.keys(props).forEach(function (name) {\n    const prop = props[name];\n    const descrptor = Object.getOwnPropertyDescriptor(obj, name);\n    const isDinosaurBrowser = name !== 'arguments' && name !== 'caller' && 'value' in prop;\n    const isConfigurable = !descrptor || descrptor.configurable;\n\n    if (isConfigurable) {\n      Object.defineProperty(obj, name, prop);\n    } else if (isDinosaurBrowser) {\n      obj[name] = prop.value;\n    }\n  });\n}\n","export default function (obj) {\n  return Object.getOwnPropertyNames(obj).reduce(function (prev, curr) {\n    prev[curr] = Object.getOwnPropertyDescriptor(obj, curr);\n    return prev;\n  }, {});\n}","import protos from '../util/protos';\nimport utilDefineProperties from '../util/define-properties';\nimport utilGetOwnPropertyDescriptors from '../util/get-own-property-descriptors';\n\nexport default function prototype (opts) {\n  const prototypes = protos(opts.prototype);\n  return function (elem) {\n    prototypes.forEach(function (proto) {\n      if (!proto.isPrototypeOf(elem)) {\n        utilDefineProperties(elem, utilGetOwnPropertyDescriptors(proto));\n      }\n    });\n  };\n}\n","export default function resolve (elem, opts) {\n  elem.removeAttribute(opts.unresolvedAttribute);\n  elem.setAttribute(opts.resolvedAttribute, '');\n}\n","import data from '../util/data';\nimport eventsApplier from './events';\nimport patchAttributeMethods from './patch-attribute-methods';\nimport propertiesInit from './properties-init';\nimport propertiesCreated from './properties-created';\nimport propertiesReady from './properties-ready';\nimport prototypeApplier from './prototype';\nimport resolve from './resolve';\n\n// TODO Remove this when we no longer support the legacy definitions and only\n// support a superset of a native property definition.\nfunction ensurePropertyFunctions (opts) {\n  let properties = opts.properties;\n  let names = Object.keys(properties || {});\n  return names.reduce(function (descriptors, descriptorName) {\n    descriptors[descriptorName] = opts.properties[descriptorName];\n    if (typeof descriptors[descriptorName] !== 'function') {\n      descriptors[descriptorName] = propertiesInit(descriptors[descriptorName]);\n    }\n    return descriptors;\n  }, {});\n}\n\nfunction ensurePropertyDefinitions (elem, propertyFunctions) {\n  return Object.keys(propertyFunctions || {}).reduce(function (descriptors, descriptorName) {\n    descriptors[descriptorName] = propertyFunctions[descriptorName](descriptorName);\n    return descriptors;\n  }, {});\n}\n\nexport default function (opts) {\n  const {\n    attribute,\n    created,\n    events,\n    isNative,\n    properties,\n    prototype,\n    ready,\n    render,\n    resolvedAttribute\n  } = opts;\n  const applyEvents = eventsApplier(opts);\n  const applyPrototype = prototypeApplier(opts);\n  const propertyFunctions = ensurePropertyFunctions(opts);\n\n  // Performance critical code!\n  return function () {\n    const info = data(this);\n    const resolved = this.hasAttribute(resolvedAttribute);\n    const propertyDefinitions = properties ? ensurePropertyDefinitions(this, propertyFunctions) : null;\n    const readyCallbacks = info.readyCallbacks;\n\n    if (info.created) {\n      return;\n    }\n\n    info.created = true;\n\n    if (!isNative) {\n      if (attribute) {\n        patchAttributeMethods(this);\n      }\n\n      if (prototype) {\n        applyPrototype(this);\n      }\n    }\n\n    if (propertyDefinitions) {\n      propertiesCreated(this, propertyDefinitions);\n    }\n\n    if (events) {\n      applyEvents(this);\n    }\n\n    if (created) {\n      created(this);\n    }\n\n    if (render && !resolved) {\n      render(this);\n    }\n\n    if (propertyDefinitions) {\n      propertiesReady(this, propertyDefinitions);\n    }\n\n    if (ready) {\n      ready(this);\n    }\n\n    if (readyCallbacks) {\n      readyCallbacks.forEach(cb => cb());\n      info.readyCallbacks = null;\n    }\n\n    if (!resolved) {\n      resolve(this, opts);\n    }\n  };\n}\n","const re = Document.prototype.registerElement;\nexport default re && re.bind(document);\n","import createElement from '../native/create-element';\nimport registerElement from '../native/register-element';\n\nconst reservedNames = [\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph'\n];\nconst customElementCriteria = [\n  'contain at least one dash',\n  'not start with a dash',\n  `not be one of: ${reservedNames.join(', ')}`\n];\n\nexport default {\n  create (Ctor) {\n    const elem = Ctor.extends ? createElement(Ctor.extends, Ctor.id) : createElement(Ctor.id);\n    if (!Ctor.isNative && Ctor.extends) {\n      elem.setAttribute('is', Ctor.id);\n    }\n    return elem;\n  },\n  reduce (elem, defs) {\n    const tagName = elem.tagName;\n    const tagNameLc = tagName && tagName.toLowerCase();\n    if (tagNameLc in defs) {\n      return defs[tagNameLc];\n    }\n\n    const attributes = elem.attributes;\n    const isAttributeNode = attributes && attributes.is;\n    const isAttributeValue = isAttributeNode && isAttributeNode.value;\n    if (isAttributeValue in defs) {\n      return defs[isAttributeValue];\n    }\n  },\n  register (Ctor) {\n    const name = Ctor.id;\n\n    // Screen non-native names and try and be more helpful than native.\n    if (name.indexOf('-') < 1 || reservedNames.indexOf(name) > -1) {\n      throw new Error(`${name} is not a valid custom element name. A custom element name must: ${customElementCriteria.map(a => `\\n- ${a}`).join('')}`);\n    }\n\n    // In native, we have to massage the definition so that the browser doesn't\n    // spit out errors for a malformed definition.\n    if (Ctor.isNative) {\n      const nativeDefinition = { prototype: Ctor.prototype };\n      Ctor.extends && (nativeDefinition.extends = Ctor.extends);\n      registerElement(name, nativeDefinition);\n    }\n  }\n};\n","import type from './type/element';\n\nconst nope = null;\n\nexport default {\n  attached: nope,\n  attribute: nope,\n  created: nope,\n  render: nope,\n  detached: nope,\n  events: nope,\n  extends: nope,\n  properties: nope,\n  prototype: {},\n  resolvedAttribute: 'resolved',\n  ready: nope,\n  type,\n  unresolvedAttribute: 'unresolved'\n};\n","import data from '../util/data';\n\nexport default function (opts) {\n  const { detached } = opts;\n  return detached ? function () {\n    const info = data(this);\n    if (info.detached) return;\n    info.detached = true;\n    info.attached = false;\n    detached(this);\n  } : undefined;\n}\n","import createEvent from '../../native/create-event';\n\nconst isIeUntil10 = /MSIE/.test(navigator.userAgent);\nconst isIe11 = /Trident/.test(navigator.userAgent);\nconst isIe = isIeUntil10 || isIe11;\nconst elementPrototype = window.HTMLElement.prototype;\n\n// ! This walkTree method differs from the implementation in ../../utils/walk-tree\n// It invokes the callback only for the children, not the passed node and the second parameter to the callback is the parent node\nfunction walkTree (node, cb) {\n  const childNodes = node.childNodes;\n\n  if (!childNodes) {\n    return;\n  }\n\n  const childNodesLen = childNodes.length;\n\n  for (let a = 0; a < childNodesLen; a++) {\n    const childNode = childNodes[a];\n    cb(childNode, node);\n    walkTree(childNode, cb);\n  }\n}\n\nfunction fixInnerHTML() {\n  const originalInnerHTML = Object.getOwnPropertyDescriptor(elementPrototype, 'innerHTML');\n\n  var get = function () {\n    return originalInnerHTML.get.call(this);\n  };\n  get._hasBeenEnhanced =  true;\n\n  // This redefines the innerHTML property so that we can ensure that events\n  // are properly triggered.\n  Object.defineProperty(elementPrototype, 'innerHTML', {\n    get: get,\n    set: function (html) {\n      walkTree(this, function (node, parentNode) {\n        let mutationEvent = createEvent('MutationEvent');\n        mutationEvent.initMutationEvent('DOMNodeRemoved', true, false, parentNode, null, null, null, null);\n        node.dispatchEvent(mutationEvent);\n      });\n      originalInnerHTML.set.call(this, html);\n    }\n  });\n}\n\nif (isIe) {\n  // IE 9-11\n  const propertyDescriptor = Object.getOwnPropertyDescriptor(elementPrototype, 'innerHTML');\n  const hasBeenEnhanced = !!propertyDescriptor && propertyDescriptor.get._hasBeenEnhanced;\n\n  if (!hasBeenEnhanced) {\n    if (isIe11) {\n      // IE11's native MutationObserver needs some help as well :()\n      window.MutationObserver = window.JsMutationObserver || window.MutationObserver;\n    }\n\n    fixInnerHTML();\n  }\n}\n","import ignored from './ignored';\n\nconst { Element } = window;\n\nexport default function (element) {\n  let parent = element;\n  while (parent instanceof Element) {\n    if (ignored(parent)) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n}\n","import '../fix/ie/innerhtml';\nimport getClosestIgnoredElement from '../util/get-closest-ignored-element';\nimport registry from './registry';\nimport walkTree from '../util/walk-tree';\n\nfunction triggerAddedNodes (addedNodes) {\n  walkTree(addedNodes, function (element) {\n    const component = registry.find(element);\n    if (component) {\n      if (component.prototype.createdCallback) {\n        component.prototype.createdCallback.call(element);\n      }\n\n      if (component.prototype.attachedCallback) {\n        component.prototype.attachedCallback.call(element);\n      }\n    }\n  });\n}\n\nfunction triggerRemovedNodes (removedNodes) {\n  walkTree(removedNodes, function (element) {\n    const component = registry.find(element);\n    if (component && component.prototype.detachedCallback) {\n      component.prototype.detachedCallback.call(element);\n    }\n  });\n}\n\nfunction documentObserverHandler (mutations) {\n  const mutationsLength = mutations.length;\n  for (let a = 0; a < mutationsLength; a++) {\n    const addedNodes = mutations[a].addedNodes;\n    const removedNodes = mutations[a].removedNodes;\n\n    // Since siblings are batched together, we check the first node's parent\n    // node to see if it is ignored. If it is then we don't process any added\n    // nodes. This prevents having to check every node.\n    if (addedNodes && addedNodes.length && !getClosestIgnoredElement(addedNodes[0].parentNode)) {\n      triggerAddedNodes(addedNodes);\n    }\n\n    // We can't check batched nodes here because they won't have a parent node.\n    if (removedNodes && removedNodes.length) {\n      triggerRemovedNodes(removedNodes);\n    }\n  }\n}\n\nfunction createMutationObserver () {\n  const { MutationObserver } = window;\n  if (!MutationObserver) {\n    throw new Error('Mutation Observers are not supported by this browser. Skate requires them in order to polyfill the behaviour of Custom Elements. If you want to support this browser you should include a Mutation Observer polyfill before Skate.');\n  }\n  return new MutationObserver(documentObserverHandler);\n}\n\nfunction createDocumentObserver () {\n  const observer = createMutationObserver();\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nexport default {\n  observer: undefined,\n  register: function () {\n    if (!this.observer) {\n      this.observer = createDocumentObserver();\n    }\n    return this;\n  },\n  unregister: function () {\n    if (this.observer) {\n      this.observer.disconnect();\n      this.observer = undefined;\n    }\n    return this;\n  }\n};\n","import getOwnPropertyDescriptors from './get-own-property-descriptors';\nimport protos from './protos';\n\nexport default function (obj) {\n  return protos(obj).reduce(function (result, proto) {\n    const descriptors = getOwnPropertyDescriptors(proto);\n    Object.getOwnPropertyNames(descriptors).reduce(function (result, name) {\n      result[name] = descriptors[name];\n      return result;\n    }, result);\n    return result;\n  }, {});\n}\n","export default function (fn) {\n  var called = false;\n\n  return function (...args) {\n    if (!called) {\n      called = true;\n      setTimeout(() => {\n        called = false;\n        fn.apply(this, args);\n      }, 1);\n    }\n  };\n}\n","import apiCreate from './api/create';\nimport apiEmit from './api/emit';\nimport apiFragment from './api/fragment';\nimport apiInit from './api/init';\nimport apiProperties from './api/properties/index';\nimport apiReady from './api/ready';\nimport apiRender from './api/render';\nimport apiVersion from './api/version';\nimport assign from 'object-assign';\nimport attached from './lifecycle/attached';\nimport attribute from './lifecycle/attribute';\nimport created from './lifecycle/created';\nimport createElement from './native/create-element';\nimport defaults from './defaults';\nimport detached from './lifecycle/detached';\nimport documentObserver from './shared/document-observer';\nimport registerElement from './native/register-element';\nimport registry from './shared/registry';\nimport typeElement from './type/element';\nimport utilGetAllPropertyDescriptors from './util/get-all-property-descriptors';\nimport utilGetOwnPropertyDescriptors from './util/get-own-property-descriptors';\nimport utilDebounce from './util/debounce';\nimport utilDefineProperties from './util/define-properties';\nimport utilWalkTree from './util/walk-tree';\n\nconst HTMLElement = window.HTMLElement;\n\n// A function that initialises the document once in a given event loop.\nconst initDocument = utilDebounce(function () {\n  utilWalkTree(document.documentElement.childNodes, function (element) {\n    const component = registry.find(element);\n    if (component) {\n      if (component.prototype.createdCallback) {\n        component.prototype.createdCallback.call(element);\n      }\n\n      if (component.prototype.attachedCallback) {\n        component.prototype.attachedCallback.call(element);\n      }\n    }\n  });\n});\n\n// Creates a configurable, non-writable, non-enumerable property.\nfunction fixedProp (obj, name, value) {\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: false,\n    value,\n    writable: false\n  });\n}\n\n// Makes a function / constructor that can be called as either.\nfunction makeCtor (name, opts) {\n  const func = apiCreate.bind(null, name);\n\n  // Assigning defaults gives a predictable definition and prevents us from\n  // having to do defaults checks everywhere.\n  assign(func, defaults);\n\n  // Inherit all options. This takes into account object literals as well as\n  // ES2015 classes that may have inherited static props which would not be\n  // considered \"own\".\n  utilDefineProperties(func, utilGetAllPropertyDescriptors(opts));\n\n  // Fixed info.\n  fixedProp(func.prototype, 'constructor', func);\n  fixedProp(func, 'id', name);\n  fixedProp(func, 'isNative', func.type === typeElement && registerElement);\n\n  // In native, the function name is the same as the custom element name, but\n  // WebKit prevents this from being defined. We do this where possible and\n  // still define `id` for cross-browser compatibility.\n  const nameProp = Object.getOwnPropertyDescriptor(func, 'name');\n  if (nameProp && nameProp.configurable) {\n    fixedProp(func, 'name', name);\n  }\n\n  return func;\n}\n\n// The main skate() function.\nfunction skate (name, opts) {\n  const Ctor = makeCtor(name, opts);\n\n  // If the options don't inherit a native element prototype, we ensure it does\n  // because native requires you explicitly do this. Here we solve the common\n  // use case by defaulting to HTMLElement.prototype.\n  if (!HTMLElement.prototype.isPrototypeOf(Ctor.prototype) && !SVGElement.prototype.isPrototypeOf(Ctor.prototype)) {\n    const proto = (Ctor.extends ? createElement(Ctor.extends).constructor : HTMLElement).prototype;\n    Ctor.prototype = Object.create(proto, utilGetOwnPropertyDescriptors(Ctor.prototype));\n  }\n\n  // We not assign native callbacks to handle the callbacks specified in the\n  // Skate definition. This allows us to abstract away any changes that may\n  // occur in the spec.\n  Ctor.prototype.createdCallback = created(Ctor);\n  Ctor.prototype.attachedCallback = attached(Ctor);\n  Ctor.prototype.detachedCallback = detached(Ctor);\n  Ctor.prototype.attributeChangedCallback = attribute(Ctor);\n\n  // In polyfill land we must emulate what the browser would normally do in\n  // native.\n  if (!Ctor.isNative) {\n    initDocument();\n    documentObserver.register();\n  }\n\n  // Call register hook. We could put this in the registry, but since the\n  // registry is shared across versions, we try and churn that as little as\n  // possible. It's fine here for now.\n  const type = Ctor.type;\n  if (type.register) {\n    type.register(Ctor);\n  }\n\n  // We keep our own registry since we can't access the native one.\n  return registry.set(name, Ctor);\n}\n\n// Public API.\nskate.create = apiCreate;\nskate.emit = apiEmit;\nskate.fragment = apiFragment;\nskate.init = apiInit;\nskate.properties = apiProperties;\nskate.ready = apiReady;\nskate.render = apiRender;\nskate.version = apiVersion;\n\nexport default skate;\n","\n  import main from '../src/index.js';\n\n  const previousGlobal = window.skate;\n  main.noConflict = function noConflict () {\n    window.skate = previousGlobal;\n    return this;\n  };\n  window.skate = main;\n\n  export default main;\n"],"names":["elementContains","Node","alwaysUndefinedIfEmpty","propertiesApply","utilGetOwnPropertyDescriptors","events","prototype","eventsApplier","prototypeApplier","elementPrototype","walkTree","typeElement","apiEmit","apiFragment","apiInit","main"],"mappings":"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"}